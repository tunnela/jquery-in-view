/*
 2015, Lauri Tunnela (http://tunne.la)
 @license http://tunne.la/MIT.txt The MIT License
*/
;!function(f,t,e,u){function k(d,a){var c=e(d);d=c.get(0);var b=function(a,d){var e=c.data("iv-"+a);null==e&&(e=c.attr("iv-"+a));null==e&&(e=d);return e},g=function(a,c){c=c||!1;return e.isFunction(a)?a.apply(d):c?e(a):a},m=null,h=!1,k=0,b={count:parseInt(b("count",1)),classVisible:b("visible","in-view"),classHidden:b("hidden","out-of-view"),classInitial:b("initial","initial-view"),target:b("target",d)};a=e.extend({},b,a);b=e.isFunction(a.classInitial)?a.classInitial.apply(d):a.classInitial;c.addClass(b);
c.trigger("initial-view");this.check=function(){if(!h){h=!0;var b=m;m=e.isVisible(d);if(b!=m)if(b=g(a.classInitial),c.removeClass(b),m){if(c.trigger("in-view"),!a.count||k++<a.count){var b=g(a.classHidden),f=g(a.classVisible),l=g(a.target,!0);l.length&&l.addClass(f).removeClass(b);c.trigger("in-view-pass")}}else if(c.trigger("out-of-view"),!a.count||k<a.count)b=g(a.classHidden),f=g(a.classVisible),l=g(a.target,!0),l.length&&l.addClass(b).removeClass(f),c.trigger("out-of-view-pass");h=!1}};n=n.add(d);
p||(p=!0,e(f).on("load scroll",q))}var p=!1,r=0,h=[],n=e(),q=function(d){n.each(function(){var a=h[e(this).data("in-view")];a instanceof k&&a.check()})};e.fn.inView=function(d){var a=[],c=this.each(function(){var b=e(this).data("in-view"),c=null;b&&"undefined"!==typeof h[b]?c=h[b]||null:(b=++r,e(this).data("in-view",b));null!==c&&d?a.push(c):(c=new k(this,d),h[b]=c)}),b=a.length;return b?1===b?a[0]:a:c};e.isVisible=function(d){d=e(d).get(0);for(var a=d.offsetTop,c=d.offsetLeft,b=d.offsetWidth,g=d.offsetHeight;d.offsetParent;)d=
d.offsetParent,a+=d.offsetTop,c+=d.offsetLeft;return a<f.pageYOffset+f.innerHeight&&c<f.pageXOffset+f.innerWidth&&a+g>f.pageYOffset&&c+b>f.pageXOffset};e(function(){e("[data-iv-detect=false],[iv-detect=false]").first().length||e("[data-iv],[iv]").inView()})}(window,document,window.Zepto||window.jQuery);